---
title: HM - é¸¿è’™-çŠ¶æ€ç®¡ç†
---

# é¸¿è’™-çŠ¶æ€ç®¡ç†

## è‡ªå®šä¹‰æ„å»ºå‡½æ•°

### 1. æ„å»ºå‡½æ•°-@Builder 
> ArkUIè¿˜æä¾›äº†ä¸€ç§æ›´**è½»é‡**çš„UIå…ƒç´ å¤ç”¨æœºåˆ¶ `@Builder`ï¼Œå¯ä»¥å°†é‡å¤ä½¿ç”¨çš„UIå…ƒç´ æŠ½è±¡æˆä¸€ä¸ªæ–¹æ³•ï¼Œåœ¨ `build` æ–¹æ³•é‡Œè°ƒç”¨ã€‚

- ç»„ä»¶å†…å®šä¹‰ 
- å…¨å±€å®šä¹‰

1ï¼‰ç»„ä»¶å†…å®šä¹‰

```typescript
@Builder MyBuilderFunction() {}
```
```typescript
this.MyBuilderFunction()
```

2ï¼‰å…¨å±€å®šä¹‰

```typescript
@Builder function MyGlobalBuilderFunction() {}
```
```typescript
MyGlobalBuilderFunction()
```

ğŸ“•ğŸ“•ğŸ“• ç»ƒä¹ æ¡ˆä¾‹â†’å•†å“è¯¦æƒ…-æ›´å¤šæŒ‰é’®

<img src="./images/27.png" width="240" />

- å¾…å®ç°é¡µé¢

```typescript
@Entry
@Component
struct Index {
  build() {
    Column() {
      GridRow({ columns: 2, gutter: 15 }) {
        GridCol({ span: 2 }) {
          Column() {
            Row() {
              Text('è¯„ä»·ï¼ˆ2000+ï¼‰')
                .layoutWeight(1)
                .fontWeight(600)
              // TODO
            }
            .padding(10)

            Row()
              .height(100)
          }
          .borderRadius(12)
          .backgroundColor('#fff')
        }

        GridCol() {
          Column() {
            Row() {
              Text('æ¨è')
                .layoutWeight(1)
                .fontWeight(600)
              // TODO
            }
            .padding(10)

            Row()
              .height(100)
          }
          .borderRadius(12)
          .backgroundColor('#fff')
        }

        GridCol() {
          Column() {
            Row() {
              Text('ä½“éªŒ')
                .layoutWeight(1)
                .fontWeight(600)
              // TODO
            }
            .padding(10)

            Row()
              .height(100)
          }
          .borderRadius(12)
          .backgroundColor('#fff')
        }
      }
    }
    .height('100%')
    .padding(15)
    .backgroundColor('#f5f5f5')
  }
}
```
- ä½¿ç”¨ @Builder æå–UIç»“æ„

```typescript {5-15,26,43,60}
@Entry
@Component
struct Index {

  @Builder
  MoreBuilder () {
    Row() {
      Text('æŸ¥çœ‹æ›´å¤š')
        .fontSize(14)
        .fontColor('#666666')
      Image($r('app.media.ic_public_arrow_right'))
        .width(16)
        .fillColor('#666666')
    }
  }

  build() {
    Column() {
      GridRow({ columns: 2, gutter: 15 }) {
        GridCol({ span: 2 }) {
          Column() {
            Row() {
              Text('è¯„ä»·ï¼ˆ2000+ï¼‰')
                .layoutWeight(1)
                .fontWeight(600)
              this.MoreBuilder()
            }
            .padding(10)

            Row()
              .height(100)
          }
          .borderRadius(12)
          .backgroundColor('#fff')
        }

        GridCol() {
          Column() {
            Row() {
              Text('æ¨è')
                .layoutWeight(1)
                .fontWeight(600)
              this.MoreBuilder()
            }
            .padding(10)

            Row()
              .height(100)
          }
          .borderRadius(12)
          .backgroundColor('#fff')
        }

        GridCol() {
          Column() {
            Row() {
              Text('ä½“éªŒ')
                .layoutWeight(1)
                .fontWeight(600)
              this.MoreBuilder()
            }
            .padding(10)

            Row()
              .height(100)
          }
          .borderRadius(12)
          .backgroundColor('#fff')
        }
      }
    }
    .height('100%')
    .padding(15)
    .backgroundColor('#f5f5f5')
  }
}
```

::: tip

å°ç»“ï¼š
- é‡åˆ°ééå†æƒ…å†µä¸‹ï¼Œä¸€ä¸ªç»„ä»¶åˆ†æ•£ç€ç›¸åŒçš„UIç»“æ„ï¼Œå¯ä»¥ä½¿ç”¨ `@Builder` æ›´è½»é‡

å…¶ä»–ï¼š
- åä¸ºå®˜æ–¹å›¾æ ‡ä¸‹è½½ [é“¾æ¥](https://developer.harmonyos.com/cn/design/harmonyos-icon/)

:::




### 2. æ„å»ºå‡½æ•°-ä¼ å‚ä¼ é€’


1ï¼‰æŒ‰å€¼ä¼ é€’ï¼ˆåœºæ™¯ï¼šæ„å»ºä¸åŒçš„UIï¼‰

```typescript
@Builder MyBuilderFunction( title: string ) {}
```
```typescript
this.MyBuilderFunction('Title')
```

éœ€æ±‚ï¼šä¸åŒæ¿å—æŸ¥çœ‹æ›´å¤šæ–‡æ¡ˆä¸ä¸€æ ·

- è¯„ä»· å¥½è¯„ç‡ 98%
- æ¨è æŸ¥çœ‹å…¨éƒ¨
- ä½“éªŒ 4 æ¡æµ‹è¯„

```typescript
  @Builder
  MoreBuilder (title: string) {
    Row() {
      Text(title)
        .fontSize(14)
        .fontColor('#666666')
      Image($r('app.media.ic_public_arrow_right'))
        .width(16)
        .fillColor('#666666')
    }
  }
```

```typescript
this.MoreBuilder('å¥½è¯„ç‡ 98%')
this.MoreBuilder('æŸ¥çœ‹å…¨éƒ¨')
this.MoreBuilder('4 æ¡æµ‹è¯„')
```


2ï¼‰å¼•ç”¨ä¼ é€’ï¼ˆåœºæ™¯ï¼šå½“ä¼ é€’çš„æ•°æ®æ›´æ–°ï¼Œéœ€è¦æ›´æ–°UIï¼‰


éœ€æ±‚ï¼š
- ç‚¹å‡»æŒ‰é’®åæ¨¡æ‹ŸåŠ è½½å¥½è¯„ç‡æ•°æ®

```typescript {7-17,33,50,67}
@Entry
@Component
struct Index {
  @State
  rate: number = 0

  @Builder
  MoreBuilder(params: { title: string }) {
    Row() {
      Text(params.title)
        .fontSize(14)
        .fontColor('#666666')
      Image($r('app.media.ic_public_arrow_right'))
        .width(16)
        .fillColor('#666666')
    }
  }

  build() {
    Column() {
      Button('è·å–æ•°æ®')
        .margin({ bottom: 15 })
        .onClick(() => {
          this.rate = 99
        })
      GridRow({ columns: 2, gutter: 15 }) {
        GridCol({ span: 2 }) {
          Column() {
            Row() {
              Text('è¯„ä»·ï¼ˆ2000+ï¼‰')
                .layoutWeight(1)
                .fontWeight(600)
              this.MoreBuilder({ title: `å¥½è¯„ç‡ ${this.rate} %` })
            }
            .padding(10)

            Row()
              .height(100)
          }
          .borderRadius(12)
          .backgroundColor('#fff')
        }

        GridCol() {
          Column() {
            Row() {
              Text('æ¨è')
                .layoutWeight(1)
                .fontWeight(600)
              this.MoreBuilder({ title: 'æŸ¥çœ‹å…¨éƒ¨' })
            }
            .padding(10)

            Row()
              .height(100)
          }
          .borderRadius(12)
          .backgroundColor('#fff')
        }

        GridCol() {
          Column() {
            Row() {
              Text('ä½“éªŒ')
                .layoutWeight(1)
                .fontWeight(600)
              this.MoreBuilder({ title: '4 æ¡æµ‹è¯„' })
            }
            .padding(10)

            Row()
              .height(100)
          }
          .borderRadius(12)
          .backgroundColor('#fff')
        }
      }
    }
    .height('100%')
    .padding(15)
    .backgroundColor('#f5f5f5')
  }
}
```

::: tip

- ä½¿ç”¨ `@Builder` å¤ç”¨é€»è¾‘çš„æ—¶å€™ï¼Œæ”¯æŒä¼ å‚å¯ä»¥æ›´çµæ´»çš„æ¸²æŸ“UI
- å‚æ•°å¯ä»¥ä½¿ç”¨`çŠ¶æ€æ•°æ®`ï¼Œä¸è¿‡å»ºè®®é€šè¿‡å¯¹è±¡çš„æ–¹å¼ä¼ å…¥ `@Builder`

:::

### 3. æ„å»ºå‡½æ•°-@BuilderParam ä¼ é€’UI

> `@BuilderParam` è¯¥è£…é¥°å™¨ç”¨äºå£°æ˜ä»»æ„UIæè¿°çš„ä¸€ä¸ªå…ƒç´ ï¼Œç±»ä¼¼ slot å ä½ç¬¦

::: details å‰ç½®çŸ¥è¯†

ç»„ä»¶å±æ€§åˆå§‹åŒ–ï¼š
- å®šä¹‰ç»„ä»¶å£°æ˜å±æ€§  `title: string`
- ä½¿ç”¨ç»„ä»¶åˆå§‹åŒ–å±æ€§ `Comp({ title: string })`

:::

- å°¾éšé—­åŒ…åˆå§‹åŒ–ç»„ä»¶
    - ç»„ä»¶å†…æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªä½¿ç”¨ `@BuilderParam` è£…é¥°çš„å±æ€§

- å‚æ•°åˆå§‹åŒ–ç»„ä»¶
    - ç»„ä»¶å†…æœ‰å¤šä¸ªä½¿ç”¨ `@BuilderParam` è£…é¥°å™¨å±æ€§


1ï¼‰å°¾éšé—­åŒ…åˆå§‹åŒ–ç»„ä»¶(é»˜è®¤æ’æ§½)

éœ€æ±‚ï¼š
- æ ‡é¢˜æ–‡å­—å’Œæ›´å¤šæ–‡æ¡ˆé€šè¿‡å±æ€§ä¼ å…¥
- å†…å®¹ç»“æ„éœ€è¦ä¼ å…¥

```typescript {5-13,31,47,51-53,57-59}
@Component
struct PanelComp {
  title: string
  more: string
  @BuilderParam
  panelContent: () => void = this.DefaultPanelContent

  // å¤‡ç”¨ Builder
  @Builder
  DefaultPanelContent () {
    Text('é»˜è®¤å†…å®¹')
  }

  build() {
    Column() {
      Row() {
        Text(this.title)
          .layoutWeight(1)
          .fontWeight(600)
        Row() {
          Text(this.more)
            .fontSize(14)
            .fontColor('#666666')
          Image($r('app.media.ic_public_arrow_right'))
            .width(16)
            .fillColor('#666666')
        }
      }
      .padding(10)

      Row() {
        this.panelContent()
      }
      .height(100)
    }
    .borderRadius(12)
    .backgroundColor('#fff')
  }
}

@Entry
@Component
struct Index {
  build() {
    Column() {
      GridRow({ columns: 2, gutter: 15 }) {
        GridCol({ span: 2 }) {
          PanelComp({ title: 'è¯„ä»·ï¼ˆ2000+ï¼‰', more: 'å¥½è¯„ç‡98%' })
        }

        GridCol() {
          PanelComp({ title: 'æ¨è', more: 'æŸ¥çœ‹å…¨éƒ¨' }){
            Text('æ¨èå†…å®¹')
          }
        }

        GridCol() {
          PanelComp({ title: 'ä½“éªŒ', more: '4 æ¡æµ‹è¯„' }){
            Text('ä½“éªŒå†…å®¹')
          }
        }
      }
    }
    .height('100%')
    .padding(15)
    .backgroundColor('#f5f5f5')
  }
}
```

2ï¼‰å‚æ•°åˆå§‹åŒ–ç»„ä»¶ï¼ˆå…·åæ’æ§½ï¼‰

éœ€æ±‚ï¼šéœ€è¦ä¼ å…¥å†…å®¹ç»“æ„å’Œåº•éƒ¨ç»“æ„

```typescript {5-8,28,32,44-51,57-62}
@Component
struct PanelComp {
  title: string
  more: string
  @BuilderParam
  panelContent: () => void
  @BuilderParam
  panelFooter: () => void

  build() {
    Column() {
      Row() {
        Text(this.title)
          .layoutWeight(1)
          .fontWeight(600)
        Row() {
          Text(this.more)
            .fontSize(14)
            .fontColor('#666666')
          Image($r('app.media.ic_public_arrow_right'))
            .width(16)
            .fillColor('#666666')
        }
      }
      .padding(10)

      Row() {
        this.panelContent()
      }
      .height(100)
      Row() {
        this.panelFooter()
      }
      .height(50)
    }
    .borderRadius(12)
    .backgroundColor('#fff')
  }
}

@Entry
@Component
struct Index {
  @Builder
  ContentBuilderA() {
    Text('è¯„ä»·å†…å®¹')
  }
  @Builder
  FooterBuilderA() {
    Text('è¯„ä»·åº•éƒ¨')
  }

  build() {
    Column() {
      GridRow({ columns: 2, gutter: 15 }) {
        GridCol({ span: 2 }) {
          PanelComp({
            title: 'è¯„ä»·ï¼ˆ2000+ï¼‰',
            more: 'å¥½è¯„ç‡98%',
            panelFooter: this.FooterBuilderA,
            panelContent: this.ContentBuilderA
          })
        }

        // GridCol() {
        //   PanelComp({ title: 'æ¨è', more: 'æŸ¥çœ‹å…¨éƒ¨' }){
        //     Text('æ¨èå†…å®¹')
        //   }
        // }
        //
        // GridCol() {
        //   PanelComp({ title: 'ä½“éªŒ', more: '4 æ¡æµ‹è¯„' }){
        //     Text('ä½“éªŒå†…å®¹')
        //   }
        // }
      }
    }
    .height('100%')
    .padding(15)
    .backgroundColor('#f5f5f5')
  }
}
```

::: tip

- å½“å­ç»„ä»¶ä½¿ç”¨ä¸€ä¸ª `@BuilderParam` çš„æ—¶å€™ï¼Œä½¿ç”¨ç»„ä»¶çš„æ—¶å€™åœ¨å°¾éš `{}` æ’å…¥UIç»“æ„
- å½“å­ç»„ä»¶ä½¿ç”¨å¤šä¸ª `@BuilderParam` çš„æ—¶å€™ï¼Œä½¿ç”¨ç»„ä»¶çš„æ—¶å€™ `Comp({ xxx: this.builderFn })` ä¼ å…¥
- å­ç»„ä»¶æœ¬èº«å¯ä»¥æä¾›ä¸€ä¸ªé»˜è®¤çš„ `@Builder` å‡½æ•°ä½œä¸º `@BuilderParam` å¤‡ç”¨å‡½æ•°ï¼Œå½“åšå¤‡ç”¨å†…å®¹ä½¿ç”¨

:::


### 4. æ„å»ºå‡½æ•°-ç³»ç»Ÿç»„ä»¶è‡ªå®šä¹‰UI

## ç»„ä»¶çŠ¶æ€å…±äº«

### 1. çŠ¶æ€å…±äº«-çˆ¶å­å•å‘
### 2. çŠ¶æ€å…±äº«-çˆ¶å­åŒå‘
### 3. çŠ¶æ€å…±äº«-åä»£ç»„ä»¶
### 4. çŠ¶æ€å…±äº«-çŠ¶æ€ç›‘å¬å™¨
### 5. @Observedä¸@ObjectLink


## åº”ç”¨çŠ¶æ€

### 1. åº”ç”¨çŠ¶æ€-LocalStorage
### 2. åº”ç”¨çŠ¶æ€-AppStorage
### 3. åº”ç”¨çŠ¶æ€-PersistentStorage
### 4. åº”ç”¨çŠ¶æ€-Environment


## ç½‘ç»œç®¡ç†

### 1. åº”ç”¨æƒé™
### 2. HTTPè¯·æ±‚


## ä»Šæ—¥æ¡ˆä¾‹
